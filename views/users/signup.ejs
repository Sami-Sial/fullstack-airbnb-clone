<% layout("/layouts/boilerplate.ejs") %>

  <link rel="stylesheet" href="/css/signup-login.css" />

  <div id="sign-up-form-container">
    <form method="post" action="/signup" id="sign-up-form">
      <h4 style="text-align: center; font-weight: bold">Sign Up on BookNest</h4>

      <div class="input-group">
        <label for="username">Username</label>
        <input type="text" name="username" id="username" required />
      </div>

      <div class="input-group">
        <label for="username">Email</label>
        <input type="email" name="email" id="email" required />
      </div>

      <div class="input-group" style="position: relative">
        <label for="username">Password</label>
        <input type="password" name="password" id="password" required />
        <i style="position: absolute; right: 10px; top: 32px" id="eye" class="fa-solid fa-eye"></i>
      </div>

      <button type="button submit" class="btn btn-primary">Register</button>

      <div class="input-group" style="margin-top: 10px">
        <button type="button" class="btn btn-dark">
          <a href="/auth/google" style="color: white">Continue with Google</a>
        </button>
      </div>

      <div class="input-group">
        <button type="button" class="btn btn-dark">
          <a href="/auth/github" style="color: white">Continue with Github</a>
        </button>
      </div>

      <p>
        Already have an account?
        <a href="/login" style="font-size: 20px">Login</a>
      </p>
    </form>
  </div>

  <script>
    let input = document.querySelector("#password");
    let eyeIcon = document.querySelector("#eye");
    let passType = true;

    eyeIcon.addEventListener("click", () => {
      if (passType) {
        input.type = "text";
        eyeIcon.classList.remove("fa-eye");
        eyeIcon.classList.add("fa-eye-slash");
        passType = false;
      } else {
        input.type = "password";
        eyeIcon.classList.add("fa-eye");
        eyeIcon.classList.remove("fa-eye-slash");
        passType = true;
      }
    });

    const form = document.getElementById("sign-up-form");
    const submitBtn = form.querySelector('button[type="button submit"]');

    form.addEventListener("submit", () => {
      submitBtn.disabled = true;
      submitBtn.innerText = "Registering...";
    });
  </script>